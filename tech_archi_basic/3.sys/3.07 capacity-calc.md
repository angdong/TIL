# 3.7 용량 산정
- [3.7 용량 산정](#37-용량-산정)
  - [용량 산정 절차](#용량-산정-절차)
  - [용량 산정 방식](#용량-산정-방식)
  - [CPU 산정](#cpu-산정)
  - [Memory 산정](#memory-산정)
  - [Disk 산정](#disk-산정)
  - [용량 산정 시 주의점](#용량-산정-시-주의점)

용량계획
* 시스템 아키와 응용 기반을 전제로 용량 요구사항과 성능을 결정하는 것으로 구성할 시스템의 용량산정을 위한 계획

시스템 규모산정
* 실제 업무와 응용을 기반으로 수학적 방법론을 사용하여 도입하고자 하는 시스템의 용량을 계산하는 활동

용량산정 대상
* 서버의 CPU 수량, 메모리 크기, 디스크 용량

주요 Input Data
* 컴퓨팅 모델(2-Tier, 3-Tier, Web, $\dots$)
* 서버의 operation 형태
* 사용자 수, 시스템의 peak 사용률, $\dots$

## 용량 산정 절차
1. 전체 시스템 구성도 파악
2. 개략 모델 설정
3. peak time 온라인성 trx(트랜잭션) 수 결정
4. peak time 배치성 trx 수 결정
5. 각 항목별 가중치 적용
6. 여유율 적용
7. 최종 모델 결정
8. 모델 안 검토

## 용량 산정 방식
1. 산술식\
   용량산정을 위한 기본 요소들을 토대로 기본적인 필요용량 산출, 보정치 적용하여 H/W의 총 필요용량을 산정하는 방법
2. 비례식\
   동일/유사 업무를 수행하는 참조 시스템의 trx 결정하는 기본 요소와 H/W 자원사용량과의 관계 정의하여 대상 시스템의 필요용량 산정에 적용하는 방법
3. 시뮬레이션\
   대상 업무에 대한 작업부하 모델링 후 이를 시뮬레이션 도구/임시 시스템에 적용하여 결과를 시스템 용량산정에 반영

트랜잭션(trx)
* 데이터에 대해 CRUD가 일어나도록 하는 행위
* 하나의 trx란 고객 주문/판매/입출금과 같은 외부 거래 기록 위해 시스템 내부에서 완료되어야 하는 일련의 처리 동작을 뜻함

사용자 분류
* concurrent user
* active user

## CPU 산정
서버 특성(DB서버, 어플리케이션 서버)에 따라 다른 방식으로 용량 산정

고려항목
1. 시스템 구축 형태
2. 사용자 수
3. 트랜잭션 수
4. $\dots$

## Memory 산정
고려항목
1. 시스템 영역
2. 사용자당 필요 메모리
3. 동시 사용자 수
4. $\dots$

## Disk 산정
고려항목
1. 시스템 OS 영역
2. 응용 프로그램 영역
3. 데이터 영역
4. $\dots$

## 용량 산정 시 주의점
시스템을 가장 많이 사용하는 시점을 기준으로 산정(**Peak time of Peak day**)

하드웨어 용량 산정 시 가장 중요한 것은 예산 한도 내에서 **용량을 가능한 한 크게 잡아야 한다**는 것\
$\to$ 제안 시에는 고려되지 못한 다양한 변경 요인 발생으로 인해 실제 용량이 부족하게 되는 경우가 빈번하기 때문