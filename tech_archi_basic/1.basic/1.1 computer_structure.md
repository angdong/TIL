# 1.1 컴퓨터 기본 구조

- [1.1 컴퓨터 기본 구조](#11-컴퓨터-기본-구조)
  - [CPU](#cpu)
  - [메모리](#메모리)
  - [디스크](#디스크)
    - [HDD](#hdd)
    - [SSD](#ssd)
    - [외장 스토리지](#외장-스토리지)


> ✨ 컴퓨터의 기본 구조 및 시스템 아키텍처의 기본적인 내용 이해

폰 노이만 아키텍처\
    CPU와 메모리를 사용하는 현대 컴퓨터 모델의 시초

현대의 컴퓨터\
    CPU\
    메모리\
    디스크\
    I/O

## CPU

* clock
    * 1초당 CPU가 처리할 수 있는 명령 횟수(즉, CPU의 성능)
* 캐시
    * 데이터의 빠른 처리를 위해 캐시를 사용
    * L1캐시 > L2 > L3 순으로 빠름
    * L3캐시로 갈수록 데이터를 공유
* 소켓/코어/쓰레드
    * 소켓: 실제 물리적 부품으로서의 CPU
    * 코어: 하나의 소켓 안에 하나 혹은 여러 개가 탑재되는 CPU의 핵심 요소(__CPU개수 == 코어 개수__)
    * 쓰레드: 코어를 논리적으로 나누어 성능을 높이는 기술\
    한 코어를 2 쓰레드로 사용하면 OS는 2개로 인식
* _CPU 전원 관련 옵션이 고성능으로 되어 있어야 부하에 상관없이 최고 clock speed로 동작_

## 메모리

프로그램이 실행되는 동안 필요한 정보를 저장하는 저장 공간

![저장장치 계층 구조](../../img/memory_structure.png "저장장치의 계층 구조 (https://jobdong7757.tistory.com/17)")

일반적으로 '메모리' 라 하면 컴퓨터에 장착된 RAM을 의미함

## 디스크

### HDD

헤드의 순차접근에 의해 데이터를 platter에 저장

R/W 성능 개선 위해 논리적으로 분할하여 사용

HDD RPM
* platter 분당 회전수
* RPM 높은 HDD가 성능 더 좋음

인터페이스 규격
* HDD는 표준화된 인터페이스를 통해 컴퓨터와 통신

### SSD

물리적인 search 시간 없음

내부적으로 여러 개의 플래시 메모리에 나눠서 R/W 수행, 데이터 처리 속도 빠름

물리적 움직임 없어 HDD보다 내구성 좋고 전력 적게 사용

Cell에 몇 비트를 저장하느냐에 따라 낸드 플래쉬의 종류를 구분(SLC/MLC/TLC)

![낸드 플래쉬 종류](../../img/ssd_type.jpg "낸드 플래쉬 종류 (https://www.ssim.pe.kr/community/useful/25)")

SSD 특징
* 디스크 용량과 성능 상관관계
    * SSD 용량 커지면 내부에 낸드 플래쉬 셀의 개수가 많아지므로 SSD 1개 기준으로 용량이 클수록 성능이 좋아짐
* operation 단위
    * R/W는 페이지 단위 수행, 삭제는 블록 단위 수행, __Overwrite는 불가능!__ -> 삭제를 먼저 하고 다시 쓰는 방식

* SSD 관련 주요 개념

    1. wear leveling\
        낸드 플래쉬는 쓰기 횟수 제한이 있기 때문에 특정 플래쉬 영역만 과다하게 쓰지 않게 하기 위해 덜 사용한 페이지 위주로 기록하는 기능

        SSD는 수명 모니터링 필요 - 스토리지별로 모니터링 방법이 존재
    2. Garbage Collection\
        지속적인 wear leveling으로 인한 쓰레기 페이지는 바로 지우지 않고 일정 스케쥴링에 의해 유휴 블록으로 옮기고 블록 단위로 지우는 기능
    3. TRIM\
        플래쉬 메모리는 overwrite가 불가능하기 때문에 SSD가 유휴 상태일 때 데이터를 미리 지우는 기능으로 SSD의 성능을 향상시킴
    4. Auto Tiering\
        HDD, SSD혼용하는 스토리지에서 접근 빈도에 따라 데이터를 효율적으로 나눠 적용해주는 기술

### 외장 스토리지

I/O와 데이터 저장공간 확장성 극대화

1. 다량의 물리 디스크 장착
2. 물리 디스크 RAID구성 $\to$ 볼륨 pool 생성
3. 볼륨 pool을 LUN(논리적 디스크)으로 분할하여 컴퓨터에 할당
4. 컴퓨터는 할당받은 LUN을 물리적 디스크로 인식
5. 물리 디스크 및 LUN 관리, 실제 데이터 위치 확인은 컨트롤러가 담당
6. cache가 있어 스토리지 성능 향상